<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Generate Data for Grouped Instrument Model (No Covariates) — GenData_nocov • mwivhet</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Generate Data for Grouped Instrument Model (No Covariates) — GenData_nocov"><meta property="og:description" content="Simulates data from a linear instrumental variables model with many instruments,
specifically for design where instruments are mutually exclusive group
indicators (e.g., Judges). The function allows for treatment effect heterogeneity
(random coefficients) and correlation between heterogeneity and selection."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">mwivhet</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../articles/mwivhet.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/minhnngo/mwivhet/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Generate Data for Grouped Instrument Model (No Covariates)</h1>
    <small class="dont-index">Source: <a href="https://github.com/minhnngo/mwivhet/blob/HEAD/R/datagen.R" class="external-link"><code>R/datagen.R</code></a></small>
    <div class="hidden name"><code>GenData_nocov.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Simulates data from a linear instrumental variables model with many instruments,
specifically for design where instruments are mutually exclusive group
indicators (e.g., Judges). The function allows for treatment effect heterogeneity
(random coefficients) and correlation between heterogeneity and selection.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">GenData_nocov</span><span class="op">(</span></span>
<span>  S <span class="op">=</span> <span class="fl">3</span>,</span>
<span>  Het <span class="op">=</span> <span class="fl">3</span>,</span>
<span>  sigee <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  sigvv <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  sigexi <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  sigev <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  ConTE <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  beta <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  beta0 <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  K <span class="op">=</span> <span class="fl">40</span>,</span>
<span>  c <span class="op">=</span> <span class="fl">5</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>


<dl><dt id="arg-s">S<a class="anchor" aria-label="anchor" href="#arg-s"></a></dt>
<dd><p>Numeric. Concentration parameter \(\mu^2\), determining instrument strength.</p></dd>


<dt id="arg-het">Het<a class="anchor" aria-label="anchor" href="#arg-het"></a></dt>
<dd><p>Numeric. Heterogeneity parameter, scaling the variance of the random slope \(\xi\).</p></dd>


<dt id="arg-sigee">sigee<a class="anchor" aria-label="anchor" href="#arg-sigee"></a></dt>
<dd><p>Numeric. Variance of the structural error \(\varepsilon\).</p></dd>


<dt id="arg-sigvv">sigvv<a class="anchor" aria-label="anchor" href="#arg-sigvv"></a></dt>
<dd><p>Numeric. Variance of the first-stage error \(v\).</p></dd>


<dt id="arg-sigexi">sigexi<a class="anchor" aria-label="anchor" href="#arg-sigexi"></a></dt>
<dd><p>Numeric. Covariance between structural error \(\varepsilon\) and heterogeneity \(\xi\).</p></dd>


<dt id="arg-sigev">sigev<a class="anchor" aria-label="anchor" href="#arg-sigev"></a></dt>
<dd><p>Numeric. Covariance between structural error \(\varepsilon\) and first-stage error \(v\) (Endogeneity).</p></dd>


<dt id="arg-conte">ConTE<a class="anchor" aria-label="anchor" href="#arg-conte"></a></dt>
<dd><p>Logical. If <code>TRUE</code>, simulates Constant Treatment Effects (\(\xi = 0\)).</p></dd>


<dt id="arg-beta">beta<a class="anchor" aria-label="anchor" href="#arg-beta"></a></dt>
<dd><p>Numeric. The true average treatment effect (ATE).</p></dd>


<dt id="arg-beta-">beta0<a class="anchor" aria-label="anchor" href="#arg-beta-"></a></dt>
<dd><p>Numeric. The null hypothesis value for \(\beta\) (used to compute residuals \(e\)).</p></dd>


<dt id="arg-k">K<a class="anchor" aria-label="anchor" href="#arg-k"></a></dt>
<dd><p>Integer. The number of instruments (groups) minus one. Total groups \(J = K + 1\).</p></dd>


<dt id="arg-c">c<a class="anchor" aria-label="anchor" href="#arg-c"></a></dt>
<dd><p>Integer. The number of observations per group (balanced block size).</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>A data frame containing:</p>
<dl><dt>group</dt>
<dd><p>Group identifier (1 to \(J\)).</p></dd>

<dt>pi</dt>
<dd><p>True instrument mean for the observation.</p></dd>

<dt>eps</dt>
<dd><p>Structural error \(\varepsilon\).</p></dd>

<dt>xi</dt>
<dd><p>Heterogeneity term \(\xi\).</p></dd>

<dt>v</dt>
<dd><p>First-stage error \(v\).</p></dd>

<dt>X</dt>
<dd><p>Endogenous regressor.</p></dd>

<dt>Y</dt>
<dd><p>Outcome variable.</p></dd>

<dt>e</dt>
<dd><p>Residual under the null (\(Y - X\beta_0\)).</p></dd>

<dt>MX</dt>
<dd><p>Leverage-adjusted regressor \(M X\).</p></dd>

<dt>Me</dt>
<dd><p>Leverage-adjusted residual \(M e\).</p></dd>

</dl></div>
    <div id="details">
    <h2>Details</h2>
    <p>The data generating process (DGP) is:
$$X_i = \pi_{g(i)} + v_i$$
$$Y_i = X_i (\beta + \xi_i) + \varepsilon_i$$</p>
<p>The instrument coefficients \(\pi\) are drawn from a balanced design taking values
\(\{-s, 0, s\}\).</p>
<p>If <code>ConTE = FALSE</code>, the error vector \((\varepsilon, \xi, v)\) is drawn from a
trivariate normal distribution. The covariance structure varies across blocks to introduce
correlation between the instrument strength/direction and the correlation of \(v\) and \(\xi\).</p>
    </div>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Ngoc Minh Ngo, Luther Yap.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

      </footer></div>






  </body></html>

